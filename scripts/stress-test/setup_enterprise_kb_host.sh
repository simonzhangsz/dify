#!/bin/bash
# 企业知识库问答系统 - 宿主机部署版本
# 适用于：在宿主机通过 Docker Compose 启动的 Dify (端口 8081)

set -e

GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
CYAN='\033[0;36m'
RED='\033[0;31m'
NC='\033[0m' # No Color

echo -e "${CYAN}"
echo "╔════════════════════════════════════════════════════════════╗"
echo "║                                                            ║"
echo "║        🏢 企业知识库问答系统 - 实施指南                    ║"
echo "║                                                            ║"
echo "║        基于 Dify + Ollama (宿主机部署)                    ║"
echo "║                                                            ║"
echo "╚════════════════════════════════════════════════════════════╝"
echo -e "${NC}"
echo ""

# 步骤 1：生成示例文档
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 1: 生成示例知识库文档${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""

KB_DIR="/tmp/enterprise_kb_samples"
mkdir -p "$KB_DIR"/{product,technical,hr}

echo "📝 正在生成示例文档..."
echo ""

# 产品知识库
cat > "$KB_DIR/product/产品介绍.md" <<'EOF'
# 企业智能办公平台 - 产品介绍

## 产品概述

企业智能办公平台是一款集成了人工智能、协同办公、知识管理的综合性企业服务平台。

## 核心功能

### 1. 智能问答助手
- 24/7 在线客服
- 支持多语言对话
- 基于企业知识库的精准回答
- 多轮对话理解上下文

### 2. 知识管理系统
- 文档集中存储和管理
- 智能分类和标签
- 全文搜索和语义搜索
- 版本控制和权限管理

### 3. 协同办公工具
- 实时在线协作
- 任务分配和跟踪
- 会议管理和记录
- 项目进度可视化

## 产品优势

### 智能化
利用最新的 AI 技术，提供智能推荐、自动分类、智能摘要等功能。

### 易用性
简洁直观的用户界面，5 分钟快速上手，无需专业培训。

### 安全性
- 企业级数据加密
- 细粒度权限控制
- 完整的审计日志
- 支持私有化部署

### 可扩展性
- 模块化设计
- 支持自定义插件
- 开放 API 接口
- 灵活的集成方案

## 应用场景

### 客户服务
- 智能客服机器人
- 常见问题自动回答
- 工单智能分配
- 客户满意度分析

### 内部协作
- 知识共享和沉淀
- 跨部门协作
- 项目管理
- 培训和学习

### 决策支持
- 数据可视化分析
- 智能报表生成
- 趋势预测
- 风险预警

## 定价方案

### 基础版
- 50 用户
- 10GB 存储空间
- 基础功能
- 邮件支持
- **¥9,800/年**

### 专业版
- 200 用户
- 100GB 存储空间
- 高级功能
- 电话/邮件支持
- **¥29,800/年**

### 企业版
- 无限用户
- 无限存储空间
- 全部功能
- 7×24 专属支持
- 定制化开发
- **面议**

## 常见问题

**Q: 是否支持移动端？**
A: 支持 iOS 和 Android 移动应用，也有小程序版本。

**Q: 数据存储在哪里？**
A: 支持私有化部署，数据存储在您自己的服务器。也可选择我们的云服务。

**Q: 可以试用吗？**
A: 提供 30 天免费试用，包含所有功能。

**Q: 如何导入现有数据？**
A: 提供数据导入工具，支持 Excel、CSV、Word 等常见格式。

## 联系我们

- 电话：400-123-4567
- 邮箱：sales@company.com
- 地址：北京市朝阳区 XX 大厦 8 层
- 官网：https://www.company.com
EOF

# 技术支持知识库
cat > "$KB_DIR/technical/常见技术问题.md" <<'EOF'
# 常见技术问题解决方案

## 系统登录问题

### 问题 1：忘记密码
**解决方案**：
1. 点击登录页面的"忘记密码"链接
2. 输入注册邮箱
3. 查收重置密码邮件
4. 点击邮件中的链接设置新密码
5. 使用新密码登录

**注意事项**：
- 重置链接 24 小时内有效
- 新密码需包含大小写字母、数字和特殊字符
- 如未收到邮件，检查垃圾邮件文件夹

### 问题 2：账号被锁定
**原因**：连续 5 次输入错误密码

**解决方案**：
1. 等待 30 分钟自动解锁
2. 或联系管理员手动解锁
3. 或通过"忘记密码"重置

## 文档上传问题

### 问题 3：上传失败
**可能原因及解决方案**：

**原因 1：文件过大**
- 单个文件限制 100MB
- 解决：压缩文件或分批上传

**原因 2：格式不支持**
- 支持格式：PDF, Word, Excel, PPT, TXT, Markdown
- 解决：转换为支持的格式

**原因 3：网络不稳定**
- 解决：检查网络连接，重试上传

**原因 4：存储空间不足**
- 解决：清理无用文件或升级存储容量

### 问题 4：文档无法预览
**解决方案**：
1. 刷新页面（Ctrl + F5）
2. 清除浏览器缓存
3. 更换浏览器尝试
4. 检查文档是否损坏
5. 重新上传文档

## 搜索功能问题

### 问题 5：搜索不到内容
**检查项**：
1. 关键词是否正确
2. 是否有权限访问
3. 文档是否已索引（新上传文档需要 5-10 分钟）
4. 尝试使用不同关键词

**搜索技巧**：
- 使用引号搜索精确短语："企业文化"
- 使用 AND/OR 组合关键词
- 使用通配符 * 匹配任意字符
- 按文件类型筛选

### 问题 6：搜索结果不准确
**优化建议**：
1. 使用更具体的关键词
2. 利用高级搜索功能
3. 按时间或部门筛选
4. 查看相关文档推荐

## 集成问题

### 问题 7：API 调用失败
**常见错误码**：

**401 Unauthorized**
- 原因：API Key 无效或过期
- 解决：检查 API Key，重新生成

**403 Forbidden**
- 原因：没有权限
- 解决：检查账户权限设置

**429 Too Many Requests**
- 原因：超过调用频率限制
- 解决：降低调用频率或升级套餐

**500 Internal Server Error**
- 原因：服务器错误
- 解决：稍后重试或联系技术支持

### 问题 8：Webhook 不触发
**检查项**：
1. Webhook URL 是否正确
2. 是否启用了 Webhook
3. 服务器是否可访问（防火墙设置）
4. 查看 Webhook 日志

## 性能问题

### 问题 9：系统响应慢
**可能原因**：
1. 网络延迟 - 检查网络连接
2. 浏览器缓存过多 - 清理缓存
3. 同时在线用户过多 - 错峰使用
4. 服务器负载高 - 联系技术支持

**优化建议**：
- 使用推荐的浏览器（Chrome、Edge、Safari）
- 定期清理浏览器缓存
- 避免同时打开过多标签页
- 升级网络带宽

### 问题 10：文档加载慢
**解决方案**：
1. 使用文档缩略图快速浏览
2. 下载到本地查看大文件
3. 对大文档使用分页加载
4. 压缩文档大小

## 数据同步问题

### 问题 11：移动端数据不同步
**解决方案**：
1. 检查网络连接
2. 手动触发同步（下拉刷新）
3. 退出重新登录
4. 重装移动应用

### 问题 12：多设备冲突
**处理方式**：
- 系统自动保留最新版本
- 冲突时会提示选择版本
- 重要文档建议使用版本控制

## 安全问题

### 问题 13：如何设置双因素认证
**步骤**：
1. 进入"安全设置"
2. 启用"双因素认证"
3. 扫描二维码绑定验证器应用
4. 输入验证码完成绑定

**推荐应用**：
- Google Authenticator
- Microsoft Authenticator
- Authy

### 问题 14：如何设置文档权限
**权限类型**：
- **可查看**：只能查看文档
- **可评论**：可查看和添加评论
- **可编辑**：可修改文档内容
- **管理员**：完全控制权限

**设置方法**：
1. 打开文档
2. 点击"共享"按钮
3. 添加用户或团队
4. 选择权限级别
5. 保存设置

## 技术支持联系方式

**遇到无法解决的问题？**

- 📧 技术支持邮箱：support@company.com
- 📞 技术支持热线：400-123-4567（工作日 9:00-18:00）
- 💬 在线客服：网站右下角聊天窗口
- 🎫 提交工单：控制台 → 帮助中心 → 提交工单

**提交问题时请提供**：
1. 问题详细描述
2. 错误截图或日志
3. 操作步骤
4. 使用的浏览器和版本
5. 账号信息（不要包含密码）
EOF

# HR 知识库
cat > "$KB_DIR/hr/员工手册.md" <<'EOF'
# 员工手册

## 欢迎加入我们

欢迎您成为公司大家庭的一员！本手册包含了公司的基本制度和政策，帮助您快速融入团队。

## 入职流程

### 第一天
1. **8:30 - 9:00** 到人力资源部报到
2. **9:00 - 10:00** 办理入职手续
   - 签署劳动合同
   - 填写员工信息表
   - 领取工卡和办公用品
3. **10:00 - 11:00** IT 部门设置账号
   - 邮箱账号
   - 办公系统账号
   - VPN 账号
4. **11:00 - 12:00** 部门经理介绍
5. **14:00 - 15:00** 新员工培训
6. **15:00 - 17:00** 熟悉工作环境

### 第一周
- 参加新员工培训
- 了解公司文化和制度
- 认识团队成员
- 学习业务知识

### 试用期
- 期限：3 个月
- 考核：每月一次
- 转正：试用期满合格后转正

## 工作时间

### 标准工时
- **工作日**：周一至周五
- **上班时间**：9:00 - 18:00
- **午休时间**：12:00 - 13:00
- **每周工时**：40 小时

### 弹性工作制（部分岗位）
- **核心时间**：10:00 - 16:00 必须在岗
- **弹性时间**：8:00 - 10:00 和 16:00 - 20:00 可自由安排

### 加班政策
- 因工作需要加班需提前申请
- 加班补偿方式：调休或加班费
- 加班费计算：
  - 工作日：1.5 倍工资
  - 周末：2 倍工资
  - 法定节假日：3 倍工资

## 休假制度

### 年假
- **工作满 1 年**：5 天
- **工作满 3 年**：7 天
- **工作满 5 年**：10 天
- **工作满 10 年**：15 天

### 病假
- 提供医院证明
- 每年累计不超过 30 天
- 病假工资按基本工资 80% 发放

### 事假
- 提前 3 天申请
- 事假不带薪
- 每年累计不超过 10 天

### 婚假
- **婚假**：3 天
- **晚婚假**：额外 7 天（25 岁以上首次结婚）
- 需提供结婚证复印件

### 产假/陪产假
- **产假**：98 天（难产增加 15 天）
- **陪产假**：15 天
- 需提前 1 个月通知

### 其他假期
- **丧假**：直系亲属 3 天，旁系亲属 1 天
- **探亲假**：根据国家规定
- **调休**：加班或节假日加班可调休

### 请假流程
1. 在 OA 系统提交请假申请
2. 主管审批
3. HR 备案
4. 返岗后销假

## 薪酬福利

### 薪资构成
- **基本工资**：固定部分
- **绩效工资**：根据考核结果
- **岗位津贴**：根据岗位确定
- **工龄工资**：每年 100 元递增

### 发薪日
- **发薪日期**：每月 15 日
- **遇节假日**：提前发放

### 五险一金
- **养老保险**：个人 8%，公司 16%
- **医疗保险**：个人 2%，公司 9.5%
- **失业保险**：个人 0.5%，公司 0.5%
- **工伤保险**：公司 0.5%
- **生育保险**：公司 0.8%
- **住房公积金**：个人 12%，公司 12%

### 年终奖
- 根据公司业绩和个人表现
- 一般为 1-3 个月工资
- 次年 1 月发放

### 员工福利
- **节日福利**：春节、中秋等节日发放礼品
- **生日福利**：生日蛋糕券
- **体检福利**：每年一次全面体检
- **团建活动**：部门团建预算
- **培训发展**：外部培训、证书考试报销
- **健身福利**：健身房会员卡补贴
- **交通补贴**：根据岗位
- **餐补**：工作日午餐补贴

## 绩效考核

### 考核周期
- **月度考核**：每月进行
- **季度考核**：每季度进行
- **年度考核**：每年 12 月进行

### 考核内容
1. **工作业绩**（60%）
   - KPI 完成情况
   - 工作质量
   - 工作效率

2. **工作态度**（20%）
   - 责任心
   - 团队合作
   - 主动性

3. **能力发展**（20%）
   - 专业技能
   - 学习能力
   - 创新能力

### 考核等级
- **S - 卓越**（5%）：显著超出预期
- **A - 优秀**（15%）：超出预期
- **B - 良好**（70%）：达到预期
- **C - 需改进**（10%）：部分达到预期
- **D - 不合格**（<5%）：未达到预期

### 考核结果应用
- 与绩效工资挂钩
- 晋升和调薪依据
- 培训需求分析
- 淘汰机制：连续两次 D 等级

## 培训与发展

### 新员工培训
- 公司文化和制度
- 产品知识
- 岗位技能
- 办公系统使用

### 在职培训
- 内部分享会（每月）
- 外部培训（按需申请）
- 在线学习平台
- 导师制度

### 职业发展
#### 晋升通道
1. **管理通道**：员工 → 主管 → 经理 → 总监 → VP
2. **专业通道**：初级 → 中级 → 高级 → 资深 → 专家

#### 晋升条件
- 在当前岗位工作满 1 年
- 绩效考核连续 2 次 A 或以上
- 通过晋升答辩
- 有晋升空缺

### 证书考试
- 公司鼓励考取职业证书
- 考试费用全额报销
- 通过后发放奖励金

## 行为规范

### 职业道德
- 遵守公司规章制度
- 保守商业秘密
- 不从事与公司利益冲突的行为
- 维护公司声誉

### 办公纪律
- 准时上下班，不迟到早退
- 工作时间禁止做与工作无关的事
- 保持办公环境整洁
- 节约使用办公资源

### 着装要求
- **商务正装**：客户接待、重要会议
- **商务休闲**：日常工作
- **休闲装**：周五可穿休闲装

### 信息安全
- 不泄露公司机密信息
- 妥善保管工作文件
- 电脑设置开机密码
- 离开座位锁屏

## 离职流程

### 辞职
1. 提前 30 天（试用期 3 天）书面通知
2. 在 OA 系统提交离职申请
3. 完成工作交接
4. 归还公司财产
5. 办理离职手续
6. 结算工资

### 辞退
- 试用期不合格
- 严重违反公司制度
- 连续旷工 3 天或年累计 5 天
- 营私舞弊、泄露商业秘密

### 离职面谈
- 了解离职原因
- 收集改进建议
- 挽留优秀人才

## 常见问题

**Q: 如何申请年假？**
A: 在 OA 系统提交年假申请，主管审批后即可休假。建议提前 1 周申请。

**Q: 忘记打卡怎么办？**
A: 当天在 OA 系统申请补卡，说明原因，主管审批。

**Q: 如何报销费用？**
A: 在财务系统提交报销申请，附上发票和审批单，财务审核后发放。

**Q: 五险一金可以自己缴纳吗？**
A: 公司统一为员工缴纳，个人部分从工资中扣除。

**Q: 试用期可以请假吗？**
A: 可以，但需提前申请并获得批准。

**Q: 加班可以换成调休吗？**
A: 可以，加班后可选择调休或领取加班费。

## 联系方式

**人力资源部**
- 邮箱：hr@company.com
- 电话：010-12345678 转 1001
- 办公室：8 楼人力资源部

**有任何问题，随时联系我们！**
EOF

echo -e "${GREEN}✅ 示例文档生成完成！${NC}"
echo ""
echo "📂 文档位置："
echo "   产品知识库：$KB_DIR/product/"
echo "   技术支持库：$KB_DIR/technical/"
echo "   HR 知识库：$KB_DIR/hr/"
echo ""

# 步骤 2：访问指导
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 2: 访问 Dify Web UI${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo -e "${BLUE}🌐 请在宿主机浏览器中访问：${NC}"
echo -e "${CYAN}   http://localhost:8081${NC}"
echo ""
echo -e "   或者"
echo -e "${CYAN}   http://宿主机IP:8081${NC}"
echo ""

# 步骤 3：配置 Ollama
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 3: 配置 Ollama 模型提供商${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo "1. 登录 Dify（首次访问需要创建管理员账户）"
echo ""
echo "2. 进入设置："
echo "   点击右上角头像 → Settings → Model Provider"
echo ""
echo "3. 配置 Ollama："
echo "   找到 Ollama 卡片 → 点击 Setup"
echo ""
echo "4. 填写配置信息："
echo -e "   ${CYAN}Base URL:${NC} http://宿主机IP:11434"
echo "   （如果 Ollama 在同一台机器，可能是 http://172.17.0.1:11434）"
echo -e "   ${CYAN}API Key:${NC} ollama"
echo ""
echo "5. 点击 Validate 验证，然后 Save 保存"
echo ""
echo -e "${YELLOW}💡 提示：${NC}确保 Ollama 在宿主机运行并监听 0.0.0.0:11434"
echo ""

# 步骤 4：创建知识库
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 4: 创建知识库${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo "在 Dify Web UI 中："
echo ""
echo "1. 点击左侧菜单 ${CYAN}Knowledge${NC}"
echo ""
echo "2. 创建第一个知识库：${CYAN}产品知识库${NC}"
echo "   - 点击 Create Knowledge Base"
echo "   - Name: 产品知识库"
echo "   - Description: 产品介绍、功能说明、价格信息"
echo "   - Indexing Mode: High Quality"
echo "   - 点击 Create"
echo ""
echo "3. 上传文档："
echo "   - 点击 Upload 按钮"
echo "   - 选择文件：$KB_DIR/product/产品介绍.md"
echo "   - 等待处理完成（可能需要几分钟）"
echo ""
echo "4. 重复步骤 2-3，创建其他知识库："
echo "   - ${CYAN}技术支持库${NC}：上传 $KB_DIR/technical/常见技术问题.md"
echo "   - ${CYAN}HR知识库${NC}：上传 $KB_DIR/hr/员工手册.md"
echo ""

# 步骤 5：创建工作流
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 5: 创建企业知识库问答工作流${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo "1. 点击左侧菜单 ${CYAN}Studio${NC} → ${CYAN}Create Application${NC}"
echo ""
echo "2. 选择应用类型："
echo "   - 选择 ${CYAN}Chatflow${NC}（支持多轮对话）"
echo "   - Name: 企业知识库问答助手"
echo "   - Icon: 选择一个图标"
echo "   - Description: 基于企业知识库的智能问答系统"
echo ""
echo "3. 配置工作流（拖拽节点到画布）："
echo ""
echo "   ${BLUE}【节点 1：Start】${NC}"
echo "   - 输入变量："
echo "     * user_question: 用户问题（必填）"
echo ""
echo "   ${BLUE}【节点 2：LLM - 意图识别】${NC}"
echo "   - Model: Ollama / qwen2.5:3b"
echo "   - System Prompt:"
echo "     你是意图分类助手。分析用户问题，返回以下类别之一："
echo "     - product: 产品相关"
echo "     - technical: 技术支持"
echo "     - hr: 人力资源"
echo "     只返回类别名称。"
echo "   - User Prompt: {{user_question}}"
echo "   - Temperature: 0.3"
echo ""
echo "   ${BLUE}【节点 3：Knowledge Retrieval - 知识检索】${NC}"
echo "   - 根据意图选择知识库（可以添加多个知识库）"
echo "   - Query: {{user_question}}"
echo "   - Top K: 5"
echo "   - Score Threshold: 0.7"
echo ""
echo "   ${BLUE}【节点 4：Condition - 判断是否有答案】${NC}"
echo "   - 条件: knowledge_retrieval.result.length > 0"
echo "   - 分支:"
echo "     * True: 有相关文档"
echo "     * False: 无相关文档"
echo ""
echo "   ${BLUE}【节点 5a：LLM - 生成答案】${NC}（True 分支）"
echo "   - Model: Ollama / deepseek-r1:latest"
echo "   - System Prompt:"
echo "     你是专业的企业知识助手。基于知识库内容回答问题。"
echo "     要求："
echo "     1. 答案准确，引用知识库内容"
echo "     2. 语气专业友好"
echo "     3. 提供来源引用"
echo "   - Context: {{knowledge_retrieval.result}}"
echo "   - Question: {{user_question}}"
echo "   - Temperature: 0.7"
echo ""
echo "   ${BLUE}【节点 5b：Text - 兜底回复】${NC}（False 分支）"
echo "   - Content:"
echo "     抱歉，我暂时无法回答这个问题。"
echo "     您可以："
echo "     1. 换个方式提问"
echo "     2. 联系人工客服：400-123-4567"
echo ""
echo "   ${BLUE}【节点 6：Answer - 输出】${NC}"
echo "   - 连接节点 5a 和 5b 的输出"
echo ""
echo "4. 连接节点："
echo "   Start → 意图识别 → 知识检索 → 条件判断"
echo "                                 ├─ True → 生成答案 → Answer"
echo "                                 └─ False → 兜底回复 → Answer"
echo ""
echo "5. 测试工作流："
echo "   - 点击右侧的 ${CYAN}Run${NC} 按钮"
echo "   - 输入测试问题，例如："
echo "     * 产品有哪些功能？"
echo "     * 如何重置密码？"
echo "     * 年假有多少天？"
echo "   - 查看输出结果"
echo ""
echo "6. 发布应用："
echo "   - 点击右上角 ${CYAN}Publish${NC}"
echo "   - 选择发布方式（Web App / API / Embed）"
echo ""

# 步骤 6：测试和优化
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${YELLOW}步骤 6: 测试和优化${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo "测试问题示例："
echo ""
echo "${CYAN}产品相关：${NC}"
echo "  - 这个产品有什么功能？"
echo "  - 基础版多少钱？"
echo "  - 支持移动端吗？"
echo ""
echo "${CYAN}技术支持：${NC}"
echo "  - 忘记密码怎么办？"
echo "  - 文档上传失败是什么原因？"
echo "  - 如何设置双因素认证？"
echo ""
echo "${CYAN}人力资源：${NC}"
echo "  - 年假有多少天？"
echo "  - 工作时间是怎样的？"
echo "  - 如何申请调休？"
echo ""
echo "优化建议："
echo "  1. 根据测试结果调整提示词"
echo "  2. 调整知识检索的 Top K 和阈值"
echo "  3. 添加更多知识库文档"
echo "  4. 收集用户反馈持续改进"
echo ""

# 完成
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo -e "${GREEN}✅ 准备工作完成！${NC}"
echo -e "${GREEN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
echo ""
echo -e "${YELLOW}📋 下一步：${NC}"
echo "1. 在宿主机浏览器打开 http://localhost:8081"
echo "2. 按照上述步骤配置 Ollama 和创建知识库"
echo "3. 构建工作流并测试"
echo ""
echo -e "${BLUE}📚 参考文档：${NC}"
echo "  - 详细实现方案: scripts/stress-test/ENTERPRISE_KB_SYSTEM.md"
echo "  - Ollama 配置: scripts/stress-test/OLLAMA_SETUP.md"
echo "  - 应用场景: scripts/stress-test/USE_CASES.md"
echo ""
echo -e "${GREEN}🎉 祝您构建成功！${NC}"
echo ""
